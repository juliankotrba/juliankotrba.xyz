{"version":3,"file":"code-writer.js","sources":["../../src/main/kotlin/Main.kt"],"sourcesContent":["import Styles.CMNT_STYLES\nimport Styles.DFLT_STYLES\nimport Styles.KW_STYLES\nimport Styles.STRING_STYLES\nimport Styles.VAR_STYLES\nimport builder.codeBlock\nimport codewriter.CodeWriter\nimport codewriter.ContainerManager\nimport model.CodeSequenceStyle\nimport model.StyleSet\nimport model.WeightValue\nimport org.w3c.dom.HTMLDivElement\nimport kotlin.browser.document\nimport kotlin.js.Date\nimport kotlinx.coroutines.GlobalScope\n\n/**\n * Created by Julian Kotrba on 07.02.18.\n */\n\nfun main(args: Array<String>) {\n    dslCode()\n}\n\nfun dslCode() {\n\n    val c =\n            codeBlock {\n                codeLine {\n                    codeSequence {\n                        text = \"// \"\n                        styleSet = CMNT_STYLES\n                    }\n\n                    codeSequence {\n                        text = \"Person.kt\"\n                        styleSet = STRING_STYLES\n                    }\n                }\n                codeLine {\n                    codeSequence {\n                        text = \"data\"\n                        styleSet = KW_STYLES\n                    }\n                    codeSequence {\n                        text = \" class\"\n                        styleSet = KW_STYLES\n                    }\n                    codeSequence(\" Person(\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1) {\n                        text = \"val\"\n                        styleSet = KW_STYLES\n                    }\n\n                    codeSequence(\" name\", VAR_STYLES)\n                    codeSequence(\": String = \", DFLT_STYLES, \"breakable\")\n                    codeSequence(\"\\\"Julian Kotrba\\\"\", STRING_STYLES, \"cssTab\")\n                    codeSequence(\",\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1) {\n                        text = \"val\"\n                        styleSet = KW_STYLES\n                    }\n                    codeSequence(\" ageInMillis\", VAR_STYLES)\n                    codeSequence(\": () -> Long = {\", DFLT_STYLES, \"breakable\")\n                }\n                codeLine {\n                    codeSequenceWithTabs(2, \"java.util.Date().getTime() - \", DFLT_STYLES)\n                    codeSequence(\"718326000000\", STRING_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1, \"},\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1, \"val\", KW_STYLES)\n                    codeSequence(\" livingIn\", VAR_STYLES)\n                    codeSequence(\": String = \", DFLT_STYLES, \"breakable\")\n                    codeSequence(livingInText(), STRING_STYLES, \"cssTab\")\n                    codeSequence(\",\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequence(\"    val\", KW_STYLES)\n                    codeSequence(\" degrees\", VAR_STYLES)\n                    codeSequence(\": Map<\", DFLT_STYLES)\n                    codeSequence(\"Deg\", DFLT_STYLES, \"unresolved\")\n                    codeSequence(\", String> = mapOf(\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(2, \"\", DFLT_STYLES)\n                    codeSequence(\"Deg\", DFLT_STYLES, \"unresolved\")\n                    codeSequence(\".\", DFLT_STYLES)\n                    codeSequence(\"BSc\", VAR_STYLES)\n                    codeSequence(\" to \", DFLT_STYLES)\n                    codeSequence(\"\\\"Software & Information Engr.\\\"\", STRING_STYLES)\n                    codeSequence(\",\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(2, \"\", DFLT_STYLES)\n                    codeSequence(\"Deg\", DFLT_STYLES, \"unresolved\")\n                    codeSequence(\".\", DFLT_STYLES)\n                    codeSequence(\"Dipl_Ing\", VAR_STYLES)\n                    codeSequence(\" to \", DFLT_STYLES)\n                    codeSequence(\"\\\"Software Engr. & Internet Comp.\\\"\", STRING_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1, \"),\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1, \"val\", KW_STYLES)\n                    codeSequence(\" study\", VAR_STYLES)\n                    codeSequence(\": String? = \", DFLT_STYLES, \"breakable\")\n                    codeSequence(\"null\", DFLT_STYLES, \"cssTab\")\n                    codeSequence(\",\", DFLT_STYLES)\n                }\n                codeLine {\n                    codeSequenceWithTabs(1, \"val\", KW_STYLES)\n                    codeSequence(\" work\", VAR_STYLES)\n                    codeSequence(\": String? = \", DFLT_STYLES, \"breakable\")\n                    codeSequence(\"\\\"Android Developer @ APA-IT\\\"\", STRING_STYLES, \"cssTab\")\n                }\n                codeLine {\n                    codeSequence(\")\", DFLT_STYLES)\n                }\n            }\n\n    val delayGenFunc = { listOf(50, 50, 50, 50, 50, 50, 80, 150, 200).shuffled().first() }\n    val divContainer = document.getElementById(\"code_container\") as HTMLDivElement\n\n    val cw = CodeWriter(GlobalScope, ContainerManager(divContainer, delayGenFunc))\n    cw.write(c)\n\n}\n\nprivate object Styles {\n\n    private const val DEFAULT_COLOR = \"#E8EAF6\"\n    private const val KEYWORD_COLOR = \"#2196F3\"\n    private const val COMMENT_COLOR = \"#00E676\"\n    private const val VARIABLE_COLOR = \"#FF9800\"\n    private const val STRING_COLOR = \"#00E676\"\n\n    val DFLT_STYLES = StyleSet(CodeSequenceStyle(DEFAULT_COLOR), CodeSequenceStyle(DEFAULT_COLOR))\n    val KW_STYLES = StyleSet(CodeSequenceStyle(DEFAULT_COLOR), CodeSequenceStyle(KEYWORD_COLOR, WeightValue.BOLD))\n    val CMNT_STYLES = StyleSet(CodeSequenceStyle(DEFAULT_COLOR), CodeSequenceStyle(COMMENT_COLOR))\n    val VAR_STYLES = StyleSet(CodeSequenceStyle(VARIABLE_COLOR), CodeSequenceStyle(VARIABLE_COLOR))\n    val STRING_STYLES = StyleSet(CodeSequenceStyle(STRING_COLOR), CodeSequenceStyle(STRING_COLOR))\n    val ENUM_CONSTANT_STYLES = StyleSet(CodeSequenceStyle(DEFAULT_COLOR), CodeSequenceStyle(VARIABLE_COLOR))\n}\n\ndata class Person(\n        val name: String = \"Julian Kotrba\",\n        val ageInMilli: () -> Long = {\n            Date().getTime().toLong() - 718326000000L\n        },\n        val livingIn: String = \"Vienna\",\n        val degrees: MutableMap<Deg, String> = mutableMapOf(\n                Deg.BSc to \"Software & Information Engr.\",\n                Deg.Dipl_Ing to \"Software Engr. & Internet Comp.\"\n        ),\n        val currStudy: String? = null,\n        var currWork: String? = \"Android Developer @ APA-IT\"\n)\n\nfun livingInText() = \"\\\"Vienna\\\"\"\n\nenum class Deg {\n    BSc,\n    Dipl_Ing\n}"],"names":[],"mappings":"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"}